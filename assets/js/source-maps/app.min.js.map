{"version":3,"sources":["main.js","api.js"],"names":["debounce","func","delay","timer","context","this","args","arguments","clearTimeout","setTimeout","apply","appInit","window","sortType","tmpDynamicLoadingBaseIndex","placeholderTxtDict","shop","user","container","icon","numberToPercentage","number","option","isNaN","parseFloat","Math","abs","toFixed","rawCapacityCount","realActiveSection","table","$","find","get","table_box","getBoundingClientRect","rawHeight","rawCapacity","floor","innerHeight","top","scrollTop","dataFilter","aData","app","searchRegExp","Section","active","id","match","storeName","dataSorter","key","string","dataA","dataB","listRendering","keyToSort","toLowerCase","sortDir","numberString","parseInt","error","serial","slice","time","Date","bindKeyUpEvent","detailIsOpen","detailId","Detail","showed","indexOf","tablePageSwitcher","length","focus","off","keyup","event","flipPage","cleanSearchBar","val","parent","removeClass","search","txt","listRenderingParamInit","dataToInit","baseIndex","Object","assign","open","destination","data","daemon","close","show","placeholder","test","requestData","$nextTick","componentHandler","upgradeDom","showedSection","showedDetail","aCategory","list","history","Vue","el","mounted","localApp","resize","updated","filters","numberWithCommas","toString","replace","durationToString","millisecond","duration","moment","result","addString","num","ctr","dateToString","date","mode","thisMoment","isValid","format","methods","navClickListener","click","aRecordClickListener","from","detailToShow","closeDetail","searchData","toRequest","aSearchResultClickListener","category","sortList","by","type","showKeySorting","to","dataLength","maxIndex","ceil","min","max","listMatchCtx","computed","shopDetail","userDetail","containerDetail","txtArr","split","filter","ele","forEach","index","arr","join","regExpTxt","RegExp","shopList","sort","shopDetailHistory","userList","userDetailHistory","lastIndex","map","returnTime","lastIndexOf","concat","containerDetailHistory","loading","summary","userAmount","storeAmount","activityAmount","activityHistorySummary","usedAmount","lostAmount","totalDuration","shopRecentHistorySummary","customerLostAmount","quantityOfBorrowingFromDiffPlace","shopHistorySummary","shopLostAmount","name","delivery","expand","toUsedAmount","todayAmount","weekAmount","recentAmount","joinedDate","contactNickname","contactPhone","recentAmountPercentage","weekAverage","activity","totalUserAmount","totalUsageAmount","weeklyAverageUsage","totalLostAmount","userPhone","usingAmount","joinedMethod","averageUsingDuration","amountOfBorrowingFromDiffPlace","containerID","containerType","code","reuseTime","status","bindedUser","deliveryDetail","location","hash","pendingReq","page","cb","abort","startLoading","requestUrl","ajax","headers","Accept","dataType","done","textStatus","jqXHR","stopLoading","fail","errorThrown","responseJSON","href","attr","errMsg","statusText","message","document","querySelector","MaterialSnackbar","showSnackbar","timeout","always","on","pathname","css"],"mappings":"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","file":"../app.min.js","sourcesContent":["$(window).on('load', function() {\r\n    if (window.location.pathname !== \"/manager/login\") {\r\n        $('#loading_main').css('display', 'none');\r\n        appInit(window);\r\n    }\r\n});\r\n\r\nfunction debounce(func, delay) {\r\n    var timer = null;\r\n    return function() {\r\n        var context = this;\r\n        var args = arguments;\r\n        clearTimeout(timer);\r\n        timer = setTimeout(function() {\r\n            func.apply(context, args)\r\n        }, delay);\r\n    }\r\n}\r\n\r\nfunction appInit(window) {\r\n    var sortType = null;\r\n    var tmpDynamicLoadingBaseIndex = null;\r\n    var placeholderTxtDict = {\r\n        shop: \"店鋪\",\r\n        user: \"使用者\",\r\n        container: \"容器\"\r\n    };\r\n    var icon = {\r\n        arrowUpward: '<i class=\"material-icons\" role=\"presentation\">arrow_upward</i>',\r\n        arrowDownward: '<i class=\"material-icons\" role=\"presentation\">arrow_downward</i>',\r\n        arrowDropDown: '<i class=\"material-icons\" role=\"presentation\">arrow_drop_down</i>',\r\n        arrowDropUp: '<i class=\"material-icons\" role=\"presentation\">arrow_drop_up</i>'\r\n    };\r\n    var numberToPercentage = function(number, option) {\r\n        if (isNaN(number)) number = 0;\r\n        switch (option) {\r\n            case 'withArrow':\r\n                var arrow = number >= 0 ? icon.arrowUpward : icon.arrowDownward;\r\n                return \"(\" + arrow + parseFloat(Math.abs(number) * 100).toFixed(1) + \"%)\";\r\n            case 'withoutParentheses':\r\n                return parseFloat(number * 100).toFixed(1) + \"%\";\r\n            default:\r\n                return \"(\" + parseFloat(number * 100).toFixed(1) + \"%)\";\r\n        }\r\n    };\r\n    var rawCapacityCount = function(realActiveSection) {\r\n        var table = $(\"#\" + realActiveSection).find('tbody').get(0);\r\n        if (!table) return;\r\n        var table_box = table.getBoundingClientRect();\r\n        var rawHeight = (realActiveSection !== \"user-detail\" ? 48 : 65);\r\n        var rawCapacity = Math.floor((window.innerHeight - table_box.top - 44 - $(\"main\").scrollTop()) / rawHeight);\r\n        return rawCapacity > 5 ? rawCapacity : 5;\r\n    };\r\n    var dataFilter = function(aData) {\r\n        if (app.searchRegExp) {\r\n            if (Section.active === \"user\")\r\n                return aData.id.match(app.searchRegExp);\r\n            else if (Section.active === \"shop\")\r\n                return aData.storeName.match(app.searchRegExp);\r\n        } else {\r\n            return aData;\r\n        }\r\n    };\r\n    var dataSorter = {\r\n        get: function(key) {\r\n            if (this[key]) return this[key];\r\n            else return this.number;\r\n        },\r\n        string: function(dataA, dataB) {\r\n            dataA = dataA[app.listRendering.keyToSort].toLowerCase();\r\n            dataB = dataB[app.listRendering.keyToSort].toLowerCase();\r\n            if (app.listRendering.sortDir) {\r\n                if (dataA < dataB) return 1;\r\n                if (dataA > dataB) return -1;\r\n            } else {\r\n                if (dataA < dataB) return -1;\r\n                if (dataA > dataB) return 1;\r\n            }\r\n            return 0;\r\n        },\r\n        number: function(dataA, dataB) {\r\n            if (app.listRendering.sortDir) return dataB[app.listRendering.keyToSort] - dataA[app.listRendering.keyToSort];\r\n            else return dataA[app.listRendering.keyToSort] - dataB[app.listRendering.keyToSort];\r\n        },\r\n        numberString: function(dataA, dataB) {\r\n            try {\r\n                dataA = parseInt(dataA[app.listRendering.keyToSort]);\r\n                dataB = parseInt(dataB[app.listRendering.keyToSort]);\r\n                if (app.listRendering.sortDir) return dataB - dataA;\r\n                else return dataA - dataB;\r\n            } catch (error) {\r\n                return 1;\r\n            }\r\n        },\r\n        serial: function(dataA, dataB) {\r\n            dataA = parseInt(dataA[app.listRendering.keyToSort].slice(1));\r\n            dataB = parseInt(dataB[app.listRendering.keyToSort].slice(1));\r\n            if (app.listRendering.sortDir) return dataB - dataA;\r\n            else return dataA - dataB;\r\n        },\r\n        time: function(dataA, dataB) {\r\n            dataA = new Date(dataA[app.listRendering.keyToSort]);\r\n            dataB = new Date(dataB[app.listRendering.keyToSort]);\r\n            if (app.listRendering.sortDir) return dataB - dataA;\r\n            else return dataA - dataB;\r\n        }\r\n    };\r\n    var bindKeyUpEvent = function() {\r\n        if (!app.detailIsOpen) var tablePageSwitcher = $('.table-page-switcher');\r\n        else {\r\n            var detailId = Detail.showed.slice(0, Detail.showed.indexOf(\"Detail\")) + \"-detail\";\r\n            var tablePageSwitcher = $('#' + detailId + ' .table-page-switcher');\r\n        }\r\n        if (tablePageSwitcher.length) {\r\n            tablePageSwitcher.focus();\r\n            tablePageSwitcher.off(\"keyup\");\r\n            tablePageSwitcher.keyup(function(event) {\r\n                if (event.key === \"ArrowLeft\") {\r\n                    app.flipPage(\"last\");\r\n                } else if (event.key === \"ArrowRight\") {\r\n                    app.flipPage(\"next\");\r\n                }\r\n            });\r\n        }\r\n    };\r\n    var cleanSearchBar = function() {\r\n        $('.searchbar-field .mdl-textfield__input').val('').parent().removeClass('is-focused').removeClass('is-dirty');\r\n        app.search.txt = \"\";\r\n    };\r\n    var listRenderingParamInit = function(option) {\r\n        var dataToInit = {\r\n            baseIndex: 1,\r\n            sortDir: null,\r\n            keyToSort: null\r\n        };\r\n        if (option) Object.assign(dataToInit, option);\r\n        Object.assign(app.listRendering, dataToInit);\r\n        sortType = null;\r\n    };\r\n    var Section = {\r\n        showed: null,\r\n        get active() {\r\n            return this.showed;\r\n        },\r\n        open: function(destination, data, daemon) {\r\n            if (!(destination in app)) return;\r\n            if (this.showed !== null) this.close();\r\n            app[destination].show = true;\r\n            tmpDynamicLoadingBaseIndex = null;\r\n            listRenderingParamInit();\r\n            app.search.placeholder = (placeholderTxtDict[destination] ? \"在「\" + placeholderTxtDict[destination] + \"」中搜尋\" : \"搜尋\");\r\n            if (!daemon) {\r\n                $(\"main\").scrollTop(0);\r\n                if (!test) app[destination].data = data;\r\n                app.$nextTick(function() {\r\n                    componentHandler.upgradeDom();\r\n                    bindKeyUpEvent();\r\n                });\r\n            } else {\r\n                if (!test)\r\n                    requestData(destination, function(data) {\r\n                        app[destination].data = data;\r\n                    }, {\r\n                        daemon: true\r\n                    });\r\n            }\r\n            this.showed = destination;\r\n        },\r\n        close: function() {\r\n            var showedSection = this.showed;\r\n            if (showedSection !== null) {\r\n                app[showedSection].show = false;\r\n                this.showed = null;\r\n            }\r\n        }\r\n    };\r\n    var Detail = {\r\n        showed: null,\r\n        open: function(destination, data) {\r\n            if (!(destination in app)) return;\r\n            if (this.showed !== null) this.close();\r\n            app[destination].show = true;\r\n            if (!test) app[destination].data = data;\r\n            if (destination === \"search\")\r\n                app.$nextTick(function() {\r\n                    componentHandler.upgradeDom();\r\n                    bindKeyUpEvent();\r\n                });\r\n            else\r\n                app.$nextTick(function() {\r\n                    setTimeout(function() {\r\n                        // if (destination === \"shopDetail\") drawChart(data.chartData);\r\n                        componentHandler.upgradeDom();\r\n                        bindKeyUpEvent();\r\n                    }, 600);\r\n                });\r\n            this.showed = destination;\r\n            $(\"main\").scrollTop(0);\r\n        },\r\n        close: function() {\r\n            var showedDetail = this.showed;\r\n            if (showedDetail !== null) {\r\n                if (showedDetail === \"search\") {\r\n                    for (var aCategory in app.search.data)\r\n                        app.search.data[aCategory].list = [];\r\n                    app.search.show = false;\r\n                } else {\r\n                    app[showedDetail].data.history = [];\r\n                    app[showedDetail].show = false;\r\n                }\r\n                this.showed = null;\r\n                app.$nextTick(function() {\r\n                    setTimeout(function() {\r\n                        bindKeyUpEvent();\r\n                    }, 600);\r\n                });\r\n            }\r\n        }\r\n    };\r\n    var durationToString = function(duration) {\r\n        var ctr = 0;\r\n        var result = \"\";\r\n        var addString = function(num, txt) {\r\n            ctr++;\r\n            result += (ctr === 2 ? \" \" : \"\") + num + \" \" + txt;\r\n        };\r\n        if (duration.get(\"Y\") !== 0) {\r\n            addString(duration.get(\"Y\"), \"年\");\r\n        }\r\n        if (duration.get(\"M\") !== 0) {\r\n            addString(duration.get(\"M\"), \"個月\");\r\n        }\r\n        if (ctr == 2) return result;\r\n        if (duration.get(\"d\") !== 0) {\r\n            addString(duration.get(\"d\"), \"天\");\r\n        }\r\n        if (ctr == 2) return result;\r\n        if (duration.get(\"h\") !== 0) {\r\n            addString(duration.get(\"h\"), \"小時\");\r\n        }\r\n        if (ctr == 2) return result;\r\n        if (duration.get(\"m\") !== 0) {\r\n            addString(duration.get(\"m\"), \"分鐘\");\r\n        }\r\n        if (result === \"\") result += \"0\";\r\n        return result;\r\n    };\r\n    var drawChart = function(data) {\r\n        google.charts.load('current', {\r\n            'packages': ['corechart']\r\n        });\r\n        google.charts.setOnLoadCallback(function() {\r\n            var dataTable = google.visualization.arrayToDataTable(data);\r\n            var options = {\r\n                // title: \"歷史每週使用量\",\r\n                // hAxis: {title: 'Year',  titleTextStyle: {color: '#333'}},\r\n                vAxis: {\r\n                    minValue: 0\r\n                }\r\n            };\r\n            var chart = new google.visualization.AreaChart($('#chart_div').get(0));\r\n            chart.draw(dataTable, options);\r\n            window.drawChart = function() {\r\n                return chart.draw(dataTable, options);\r\n            };\r\n        });\r\n    };\r\n    var app = new Vue({\r\n        el: \"#app\",\r\n        mounted: function() {\r\n            var localApp = this;\r\n            $(window).resize(debounce(function() {\r\n                // window.drawChart();\r\n                if ($('table').length)\r\n                    localApp.listRendering.rawCapacity = rawCapacityCount(Section.active + (localApp.detailIsOpen ? \"-detail\" : \"\"));\r\n            }, 500));\r\n        },\r\n        updated: function() {\r\n            this.listRendering.rawCapacity = rawCapacityCount(Section.active + (this.detailIsOpen ? \"-detail\" : \"\"));\r\n        },\r\n        filters: {\r\n            numberWithCommas: function(number) {\r\n                if (typeof number !== \"number\") return \"0\";\r\n                return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n            },\r\n            numberToPercentage: numberToPercentage,\r\n            durationToString: function(millisecond) {\r\n                if (isNaN(millisecond)) return millisecond;\r\n                return durationToString(moment.duration(millisecond));\r\n            },\r\n            dateToString: function(date, mode) {\r\n                if (date === \"尚未歸還\") return date;\r\n                var thisMoment = moment(date);\r\n                if (!thisMoment.isValid()) return date;\r\n                switch (mode) {\r\n                    case \"only_date\":\r\n                        return thisMoment.format(\"YYYY-MM-DD\");\r\n                    case \"with_day\":\r\n                        return thisMoment.format(\"YYYY-MM-DD (ddd) HH:mm\");\r\n                    default:\r\n                        return thisMoment.format(\"YYYY-MM-DD HH:mm\");\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            navClickListener: function(destination) {\r\n                cleanSearchBar();\r\n                $('.mdl-layout__obfuscator.is-visible').click();\r\n                requestData(destination, function(data) {\r\n                    Detail.close();\r\n                    Section.open(destination, data);\r\n                });\r\n            },\r\n            aRecordClickListener: function(from, id) {\r\n                var localApp = this;\r\n                var detailToShow = from + \"Detail\";\r\n                var toRequest = detailToShow + \"?id=\" + id;\r\n                requestData(toRequest, function(data) {\r\n                    Detail.open(detailToShow, data);\r\n                    tmpDynamicLoadingBaseIndex = localApp.listRendering.baseIndex;\r\n                    cleanSearchBar();\r\n                    listRenderingParamInit();\r\n                });\r\n            },\r\n            closeDetail: function() {\r\n                Detail.close();\r\n                cleanSearchBar();\r\n                listRenderingParamInit({\r\n                    baseIndex: tmpDynamicLoadingBaseIndex || 1\r\n                });\r\n            },\r\n            searchData: function() {\r\n                var txt = this.search.txt;\r\n                if (txt.length < 1) return;\r\n                var toRequest = \"search?txt=\" + txt;\r\n                if (Section.active === 'index') {\r\n                    toRequest += \"&fields=shop,user,container\"\r\n                } else if (Section.active === 'container') {\r\n                    toRequest += \"&fields=container\"\r\n                } else {\r\n                    return;\r\n                }\r\n                requestData(toRequest, function(data) {\r\n                    Detail.open(\"search\", data);\r\n                });\r\n            },\r\n            aSearchResultClickListener: function(category, id) {\r\n                var detailToShow = category + \"Detail\";\r\n                if (id === -1) return;\r\n                var toRequest = detailToShow + \"?id=\" + id;\r\n                requestData(toRequest, function(data) {\r\n                    Detail.open(detailToShow, data);\r\n                    Section.open(category, data, true);\r\n                    cleanSearchBar();\r\n                });\r\n            },\r\n            sortList: function(by, type) {\r\n                if (this.listRendering.sortDir == null) this.listRendering.sortDir = true;\r\n                else if (by === this.listRendering.keyToSort) this.listRendering.sortDir = !this.listRendering.sortDir;\r\n                this.listRendering.keyToSort = by;\r\n                if (typeof type === \"undefined\") sortType = \"number\";\r\n                else sortType = type;\r\n                this.listRendering.baseIndex = 1;\r\n            },\r\n            showKeySorting: function(txt, key) {\r\n                if (key === this.listRendering.keyToSort) {\r\n                    txt += (this.listRendering.sortDir ? icon.arrowDropDown : icon.arrowDropUp);\r\n                }\r\n                return txt;\r\n            },\r\n            flipPage: function(to) {\r\n                var dataLength;\r\n                if (!this.detailIsOpen) {\r\n                    dataLength = this[Section.active + \"List\"].length;\r\n                } else {\r\n                    dataLength = this[Section.active + \"Detail\"].data.history.length;\r\n                }\r\n                var maxIndex = Math.ceil(dataLength / this.listRendering.rawCapacity);\r\n                switch (to) {\r\n                    case \"next\":\r\n                        this.listRendering.baseIndex = Math.min((this.listRendering.baseIndex + 1), maxIndex);\r\n                        break;\r\n                    case \"last\":\r\n                        this.listRendering.baseIndex = Math.max((this.listRendering.baseIndex - 1), 1);\r\n                        break;\r\n                }\r\n            },\r\n            listMatchCtx: function(data) {\r\n                if (this.searchRegExp) {\r\n                    return data.replace(this.searchRegExp, \"<strong>$&</strong>\");\r\n                } else {\r\n                    return data;\r\n                }\r\n            },\r\n            numberToPercentage: numberToPercentage\r\n        },\r\n        computed: {\r\n            detailIsOpen: function() {\r\n                return this.search.show || this.shopDetail.show || this.userDetail.show || this.containerDetail.show;\r\n            },\r\n            searchRegExp: function() {\r\n                if (this.search.txt.length > 0) {\r\n                    this.listRendering.baseIndex = 1;\r\n                    var txtArr = this.search.txt.split(\" \").filter(\r\n                        function(ele) {\r\n                            return ele !== \"\";\r\n                        }\r\n                    );\r\n                    txtArr.forEach(function(ele, index, arr) {\r\n                        if (ele.length > 1)\r\n                            arr[index] = ele.split(\"\").join(\"-*\");\r\n                    });\r\n                    var regExpTxt = txtArr.join(\"|\");\r\n                    try {\r\n                        return new RegExp(regExpTxt, 'gi');\r\n                    } catch (error) {\r\n                        return null;\r\n                    }\r\n                } else {\r\n                    return null;\r\n                }\r\n            },\r\n            shopList: function() {\r\n                if (this.listRendering.keyToSort === null || this.detailIsOpen) {\r\n                    return this.shop.data.list.filter(dataFilter);\r\n                } else {\r\n                    return this.shop.data.list.filter(dataFilter).sort(dataSorter.get(sortType));\r\n                }\r\n            },\r\n            shopDetailHistory: function() {\r\n                if (this.listRendering.keyToSort === null || !this.detailIsOpen) {\r\n                    return this.shopDetail.data.history;\r\n                } else {\r\n                    return this.shopDetail.data.history.sort(dataSorter.get(sortType));\r\n                }\r\n            },\r\n            userList: function() {\r\n                if (this.listRendering.keyToSort === null || this.detailIsOpen) {\r\n                    return this.user.data.list.filter(dataFilter);\r\n                } else {\r\n                    return this.user.data.list.filter(dataFilter).sort(dataSorter.get(sortType));\r\n                }\r\n            },\r\n            userDetailHistory: function() {\r\n                if (this.listRendering.keyToSort === null || !this.detailIsOpen) {\r\n                    return this.userDetail.data.history;\r\n                } else {\r\n                    var lastIndex = this.userDetail.data.history.map(function(ele) {\r\n                        return ele.returnTime;\r\n                    }).lastIndexOf(\"尚未歸還\") + 1;\r\n                    if (this.listRendering.keyToSort !== \"returnTime\")\r\n                        return this.userDetail.data.history.slice(0, lastIndex).sort(dataSorter.get(sortType))\r\n                            .concat(this.userDetail.data.history.slice(lastIndex).sort(dataSorter.get(sortType)));\r\n                    else\r\n                        return this.userDetail.data.history.slice(0, lastIndex).concat(this.userDetail.data.history.slice(lastIndex).sort(dataSorter.get(sortType)));\r\n                }\r\n            },\r\n            containerDetailHistory: function() {\r\n                if (this.listRendering.keyToSort === null || !this.detailIsOpen) {\r\n                    return this.containerDetail.data.history;\r\n                } else {\r\n                    return this.containerDetail.data.history.sort(dataSorter.get(sortType));\r\n                }\r\n            }\r\n        },\r\n        data: {\r\n            loading: {\r\n                show: false,\r\n                txt: \"載入中...\"\r\n            },\r\n            listRendering: {\r\n                baseIndex: 1,\r\n                rawCapacity: 1,\r\n                keyToSort: null,\r\n                sortDir: null\r\n            },\r\n            index: {\r\n                show: false,\r\n                data: {\r\n                    summary: {\r\n                        userAmount: 824,\r\n                        storeAmount: 18,\r\n                        activityAmount: 62\r\n                    },\r\n                    activityHistorySummary: {\r\n                        usedAmount: 16774,\r\n                        lostAmount: 135,\r\n                        totalDuration: 12314\r\n                    },\r\n                    shopRecentHistorySummary: {\r\n                        usedAmount: 87,\r\n                        customerLostAmount: 3,\r\n                        totalDuration: 111013967,\r\n                        quantityOfBorrowingFromDiffPlace: 23\r\n                    },\r\n                    shopHistorySummary: {\r\n                        usedAmount: 6487,\r\n                        shopLostAmount: 248,\r\n                        customerLostAmount: 248,\r\n                        totalDuration: 57563433659,\r\n                        quantityOfBorrowingFromDiffPlace: 796\r\n                    }\r\n                }\r\n            },\r\n            search: {\r\n                show: false,\r\n                txt: \"\",\r\n                placeholder: \"搜尋\",\r\n                data: {\r\n                    user: {\r\n                        show: true,\r\n                        list: [{\r\n                            id: \"0936033091\",\r\n                            name: \"0936-033-091\"\r\n                        }]\r\n                    },\r\n                    container: {\r\n                        show: true,\r\n                        list: [{\r\n                            id: 17,\r\n                            name: \"#017　16oz 杯子\",\r\n                            type: 0\r\n                        }]\r\n                    },\r\n                    shop: {\r\n                        show: true,\r\n                        list: [{\r\n                            id: 0,\r\n                            name: \"布萊恩紅茶\"\r\n                        }]\r\n                    },\r\n                    delivery: {\r\n                        show: true,\r\n                        list: []\r\n                    }\r\n                }\r\n            },\r\n            shop: {\r\n                show: false,\r\n                data: {\r\n                    list: []\r\n                }\r\n            },\r\n            shopDetail: {\r\n                show: false,\r\n                expand: false,\r\n                data: {\r\n                    storeName: \"布萊恩紅茶\",\r\n                    toUsedAmount: 24,\r\n                    todayAmount: 2,\r\n                    weekAmount: 18,\r\n                    recentAmount: 18,\r\n                    joinedDate: 1234,\r\n                    contactNickname: \"店長\",\r\n                    contactPhone: \"0988555666\",\r\n                    recentAmountPercentage: 0.16,\r\n                    weekAverage: 10,\r\n                    history: []\r\n                }\r\n            },\r\n            activity: {\r\n                show: false,\r\n\r\n            },\r\n            user: {\r\n                show: false,\r\n                data: {\r\n                    totalUserAmount: 0,\r\n                    totalUsageAmount: 0,\r\n                    weeklyAverageUsage: 0,\r\n                    totalLostAmount: 0,\r\n                    list: []\r\n                }\r\n            },\r\n            userDetail: {\r\n                show: false,\r\n                expand: false,\r\n                data: {\r\n                    userPhone: \"0936-003-091\",\r\n                    usingAmount: 3,\r\n                    lostAmount: 23,\r\n                    totalUsageAmount: 200,\r\n                    joinedDate: 1234,\r\n                    joinedMethod: \"店鋪 (方糖咖啡)\",\r\n                    recentAmount: 18,\r\n                    recentAmountPercentage: 0.16,\r\n                    weekAverage: 10,\r\n                    averageUsingDuration: 20 * 60 * 1000,\r\n                    amountOfBorrowingFromDiffPlace: 43,\r\n                    history: []\r\n                }\r\n            },\r\n            container: {\r\n                show: false,\r\n                data: {\r\n                    list: []\r\n                }\r\n            },\r\n            containerDetail: {\r\n                show: false,\r\n                expand: false,\r\n                data: {\r\n                    containerID: \"#257\",\r\n                    containerType: {\r\n                        txt: \"16oz 玻璃杯\",\r\n                        code: 1\r\n                    },\r\n                    reuseTime: 24,\r\n                    status: \"使用中\",\r\n                    bindedUser: \"0921-**-931\",\r\n                    joinedDate: 1234,\r\n                    history: []\r\n                }\r\n            },\r\n            delivery: {\r\n                show: false,\r\n\r\n            },\r\n            deliveryDetail: {\r\n                show: false,\r\n                expand: false,\r\n\r\n            }\r\n        }\r\n    });\r\n    window.app = app;\r\n    Section.showed = (window.location.hash || \"#index\").replace(\"#\", \"\");\r\n    if (!(Section.showed in app)) Section.showed = 'index';\r\n    app.navClickListener(Section.active);\r\n}","(function(window) {\r\n    var pendingReq = null;\r\n\r\n    function requestData(page, cb, option) {\r\n        if (pendingReq) pendingReq.abort();\r\n        if (!option) option = {};\r\n        var daemon = option.daemon || false;\r\n        if (!daemon) startLoading();\r\n        var requestUrl = \"/manager/data/\" + page;\r\n        pendingReq = $.ajax(requestUrl, {\r\n                headers: {\r\n                    Accept: \"application/json; charset=utf-8\"\r\n                },\r\n                dataType: \"json\",\r\n                // timeout: 30 * 1000\r\n            })\r\n            .done(function(data, textStatus, jqXHR) {\r\n                if (!daemon) stopLoading();\r\n                cb(data);\r\n            })\r\n            .fail(function(jqXHR, textStatus, errorThrown) {\r\n                if (jqXHR.responseJSON && jqXHR.responseJSON.code === \"B005\") {\r\n                    return window.location.href = $(\"#logout\").attr('href');\r\n                }\r\n                if (!daemon) stopLoading();\r\n                if (jqXHR.statusText !== \"abort\") {\r\n                    showErr(\"[\" + jqXHR.status + \"]: \" + (jqXHR.responseJSON ? jqXHR.responseJSON.message : jqXHR.statusText || \"Unknown ERR\"));\r\n                }\r\n            })\r\n            .always(function() {\r\n                pendingReq = null;\r\n            });\r\n    }\r\n\r\n    function requestDataDemo(page, cb, option) {\r\n        if (pendingReq) clearTimeout(pendingReq);\r\n        startLoading();\r\n        pendingReq = setTimeout(function() {\r\n            pendingReq = null;\r\n            stopLoading();\r\n            cb();\r\n        }, 500);\r\n    }\r\n\r\n    function startLoading() {\r\n        app.loading.txt = \"Loading...\";\r\n        app.loading.show = true;\r\n    }\r\n\r\n    function stopLoading() {\r\n        app.loading.show = false;\r\n        app.loading.txt = \"\";\r\n    }\r\n\r\n    function showErr(errMsg) {\r\n        document.querySelector('#toast').MaterialSnackbar.showSnackbar({\r\n            message: errMsg,\r\n            timeout: 4000\r\n        });\r\n    }\r\n\r\n    window.test = false;\r\n    window.requestData = function(page, cb, option) {\r\n        if (!window.test) return requestData(page, cb, option);\r\n        else return requestDataDemo(page, cb, option);\r\n    };\r\n}(window));"]}